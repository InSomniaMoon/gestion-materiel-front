<p-card>
  <ng-template pTemplate="header">
    <div class="flex">
      <h2 class="p-card-title">{{ item().name }}</h2>
      <p-tag severity="secondary"> {{ item().category }} </p-tag>
    </div>
  </ng-template>
  <div class="body">
    <p>{{ item().description }}</p>
    <div class="button-group">
      <p-button
        label="Emprunter"
        (click)="displaySubscriptionDialog.set(true)"
      />
      <p-button
        label="Voir les dÃ©tails"
        [routerLink]="['/items', item().id]"
        severity="info"
      />
    </div>
    <full-calendar #calendar [options]="calendarOptions()" />
  </div>
</p-card>

<app-add-subscription
  [visible]="displaySubscriptionDialog()"
  (visibleChange)="displaySubscriptionDialog.set($event)"
  [item]="item()"
  (subscriptionChange)="fetchSubscriptions()"
/>
